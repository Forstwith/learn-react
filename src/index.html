<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>logo wall</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
</head>
<script type="text/javascript" src="../sources/js/utils.js"></script>
<script type="text/javascript" src="../sources/js/avator.js"></script>

<body>
  <!-- <div id="canvas"></div> -->
  <canvas id="canvas" width="1920px" height="1080px"></canvas>
  <script>__REACT_DEVTOOLS_GLOBAL_HOOK__ = parent.__REACT_DEVTOOLS_GLOBAL_HOOK__</script>
 
<script type="text/javascript">
	
	var canvas = document.querySelector("#canvas");
	var cxt = canvas.getContext('2d');



	var image = avator(100,100,getRandomPosition(100,100,canvas.width - 100, canvas.height -100),"../images/1.jpg");

	var image1 = avator(300,300,getRandomPosition(300,300,canvas.width-300, canvas.height-300),"../images/2.jpg");
	image.image.onload = function() {
		cxt.drawImage(image.image  , image.positionX , image.positionY , image.width , image.height);
		
	}	
	image1.image.onload = function() {
		cxt.drawImage(image1.image  , image1.positionX , image1.positionY , image1.width , image1.height);
		
	}	
	




		// cxt.save()
		
		// cxt.translate(canvas.width , 0)
		// cxt.scale(0.5,1)
		// // cxt.transform(-1 , 0 , 0 ,1 , canvas.window, 0)
		// cxt.drawImage(image.image  , canvas.width - image.width - image.positionX , image.positionY , image.width , image.height);
		
		// cxt.restore()


	var timestamp = 1000/60
	var index = 1;
	var flag = -1
	function refresh(timestamp) {
		cxt.clearRect(0, 0, canvas.width, canvas.height);
		if(index > flag ){
			index -= 0.03
			flag = -1
		}else if (index <= flag){
			index += 0.03
			flag = 1
		}

		cxt.save()
		cxt.translate(image.positionX + image.width , image.positionY + image.height)
		
		cxt.transform(index , 0.1 , 0 ,1 , 0, 0)
		cxt.drawImage(image.image  ,-image.width/2, -image.height/2, image.width , image.height);
		cxt.restore()

		cxt.save()
		cxt.translate(image1.positionX + image1.width , image1.positionY + image1.height)
	
		cxt.transform(index , 0.1 , 0 ,1 , 0, 0)
		cxt.drawImage(image1.image  ,-image1.width/2, -image1.height/2, image1.width , image1.height);
		cxt.restore()

		window.requestAnimationFrame(refresh);
	}

	window.requestAnimationFrame(refresh);
	
</script>
</html>
